{
	"name": "airas",
	"dockerComposeFile": "compose.yaml",
	"service": "airas",
	"workspaceFolder": "/workspaces/airas",
    "overrideCommand": true,
    "mounts": [
        "source=${localWorkspaceFolder}/..,target=/workspaces,type=bind"
    ],
	"customizations": {
		"vscode": {
			"extensions": [
                "ms-python.python",
                "ms-python.vscode-pylance",
                "ms-python.debugpy",
                "ms-python.mypy-type-checker",
                "charliermarsh.ruff",
                "humao.rest-client"
			]
		},
        "settings" : {
            "python.defaultInterpreterPath": ".venv/bin/python3",
            "python.testing.pytestArgs": [
                "tests"
            ],
            "python.testing.unittestEnabled": false,
            "python.testing.pytestEnabled": true,
            "[python]": {
                "editor.formatOnSave": true,
                "editor.defaultFormatter": "charliermarsh.ruff",
                "editor.codeActionsOnSave": {
                    "source.fixAll.ruff": "explicit",
                    "source.organizeImports.ruff": "explicit"
                }
            },
            "ruff.linting.enabled": true,
            "python.linting.enabled": true,
            "python.linting.mypyEnabled": true,
            "python.analysis.typeCheckingMode": "off",
            "launch": {
                "version": "0.2.0",
                "configurations": [
                    {
                        "name": "Python: Current File",
                        "type": "debugpy",
                        "request": "launch",
                        "program": "${file}",
                        "console": "integratedTerminal",
                        "env": {
                            "PYTHONASYNCIODEBUG": "1"
                        }
                    },
                    {
                        "name": "Python: FastAPI Server",
                        "type": "debugpy",
                        "request": "launch",
                        "python": "${workspaceFolder}/.venv/bin/python",
                        "module": "uvicorn",
                        "args": [
                            "api.main:app",
                            "--port=8001",
                            "--log-level=debug",
                            "--reload"
                        ],
                        "cwd": "${workspaceFolder}",
                        "console": "integratedTerminal",
                        "env": {
                            "PYTHONASYNCIODEBUG": "1"
                        }
                    }
                ]
            }
        }
    },
    "postCreateCommand": "bash .devcontainer/setup.sh"
}
